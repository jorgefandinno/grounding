% ----------------------------------------------------------------------
\begin{frame}{Introduction}
  \vfill
  \begin{center}
  \begin{tikzpicture}[
      x=.62pt,y=.75pt,
      big box/.style={draw,minimum width=.7*80,minimum height=.7*40,inner sep=0},
      small box/.style={draw,minimum width=.8*60,minimum height=.7*30,inner sep=0},
      auto,
    ]
    \begin{scope}[every node/.style={big box}]
      \node (a) at (-200, 60) {Problem};
      \node (b) at (-200,-20) {\shortstack{Logic\\Program}};
      \node (e) at ( 120,-20) {\shortstack{Stable\\Models}};
      \node (f) at ( 120, 60) {Solution};
    \end{scope}
    \begin{scope}[every node/.style={small box}]
      \node[fill=white!30!bg] (c) at (-88,-20) {\alert{Grounder}};
      \node (d) at ( 12,-20) {Solver};
    \end{scope}
    \path[->]
      (a) edge node [swap] {Modeling} (b)
      (b) edge (c)
      (c) edge node [swap,yshift=-20] {Grounding and Solving} (d)
      (d) edge (e)
      (e) edge node [swap] {Interpreting} (f);
  \end{tikzpicture}
  \end{center}
  \vfill
  \begin{itemize}
    \item some grounders (in chronological order)
      \begin{itemize}
        \item \Lparse (grounding using \alert{domain predicates})
        \item \Dlv (\alert{semi-naive evaluation} based grounding)
        \item \Gringo (\alert{semi-naive evaluation} based since version 3)
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]{Hamiltonian Cycle Instance}
  \vfill
  \begin{columns}
    \begin{column}{0.4\textwidth}
      \begin{minipage}{.4\textwidth}
      \begin{semiverbatim}
{\color{comment}\% vertices}
node(a).  node(b).
node(c).  node(d).

{\color{comment}\% edges}
edge(a,b).  edge(a,c).
edge(b,c).  edge(b,d).
edge(c,a).  edge(c,d).
edge(d,a).

{\color{comment}\% starting point (for presentation purposes)}
start(a).
      \end{semiverbatim}
    \end{minipage}
    \end{column}
    \begin{column}{0.4\textwidth}
      \centering
      \Graph
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}[fragile]{Hamiltonian Cycle Encoding}
  \vfill
\begin{SemiVerbatim}[\small]{.9}
{\color{comment}\% generate path}
path(X,Y) :- not omit(X,Y), edge(X,Y).
omit(X,Y) :- not path(X,Y), edge(X,Y).

{\color{comment}\% at most one incoming/outgoing edge}
:- path(X,Y), path(X',Y), X < X'.
:- path(X,Y), path(X,Y'), Y < Y'.

{\color{comment}\% at least one incoming/outgoing edge}
on_path(Y) :- path(X,Y), path(Y,Z).
:- node(X), not on_path(X).

{\color{comment}\% connectedness}
reach(X) :- start(X).
reach(Y) :- reach(X), path(X,Y).
:- node(X), not reach(X).
\end{SemiVerbatim}
\end{frame}

\begin{frame}{Grounding}
  \begin{itemize}
    \item Safety
      \begin{itemize}
        \item each variable has to occur in a positive body element
        \item consider: \texttt{p(X) :- not q(X).}
      \end{itemize}
    \item Herbrand universe
      \begin{itemize}
        \item
          \alert{all constants} in program and\\
          \alert{all functions} over function symbols in program
      \end{itemize}
    \item Herbrand base
      \begin{itemize}
        \item \alert{all atoms} over predicates in program\\ with terms from Herbrand universe
      \end{itemize}
    \item Instance of a rule
      \begin{itemize}
        \item all variables replaced with elements from Herbrand universe
      \end{itemize}
    \item Grounding of a program
      \begin{itemize}
        \item \(\ground{P}\) is the union of all instances of % all
              rules in \(P\)
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]{Example: Size of Grounding}
  \begin{SemiVerbatim}{.9}
{\color{comment}\% Herbrand Universe: \{a,b,c,d\}}
12 facts from instance
{\color{comment}\% path(X,Y) :- not omit(X,Y), edge(X,Y).}
{\color{comment}\% omit(X,Y) :- not path(X,Y), edge(X,Y).}
{\color{comment}\% reach(Y) :- reach(X), path(X,Y).}
16 rules + 16 rules + 16 rules
{\color{comment}\% on_path(Y) :- path(X,Y), path(Y,Z).}
{\color{comment}\% :- path(X,Y), path(X',Y), X < X'.}
{\color{comment}\% :- path(X,Y), path(X,Y'), Y < Y'.}
64 rules + 64 rules + 64 rules
{\color{comment}\% reach(X) :- start(X).}
{\color{comment}\% :- node(X), not on_path(X).}
{\color{comment}\% :- node(X), not reach(X).}
4 rules + 4 rules + 4 rules
  \end{SemiVerbatim}
\end{frame}

\begin{frame}[fragile]{Example: Unnecessary Rules I}
  \vfill
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{minipage}{0.6\textwidth}
      \begin{semiverbatim}
{\color{comment}\% path(X,Y) :- not omit(X,Y), edge(X,Y).}
path(a,a) :- not omit(a,a), \alert{edge(a,a)}.
path(a,b) :- not omit(a,b), edge(a,b).
path(a,c) :- not omit(a,c), edge(a,c).
path(a,d) :- not omit(a,d), \alert{edge(a,d)}.
          \(\vdots\)
path(d,a) :- not omit(d,a), edge(d,a).
path(d,b) :- not omit(d,b), \alert{edge(d,b).}
path(d,c) :- not omit(d,c), \alert{edge(d,d).}
path(d,d) :- not omit(d,d), \alert{edge(d,d).}


      \end{semiverbatim}
    \end{minipage}
    \end{column}
    \begin{column}{0.25\textwidth}
      \Graph
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}[fragile]{Example: Unnecessary Rules II}
  \vfill
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{minipage}{0.6\textwidth}
      \begin{semiverbatim}
{\color{comment}\% :- path(X,Y), path(X',Y), X < X'.}
:- \alert{path(a,a)}, \alert{path(a,a)}, \alert{a < a}.
:- path(a,b), path(a,b), \alert{a < a}.
:- path(a,c), path(a,c), \alert{a < a}.
:- \alert{path(a,d)}, \alert{path(a,d)}, \alert{a < a}.

:- \alert{path(a,a)}, \alert{path(b,a)}, a < b.
:- path(a,b), \alert{path(b,b)}, a < b.
:- path(a,c), path(b,c), a < b.
:- \alert{path(a,d)}, path(b,d), a < b.
          \(\vdots\)
:- \alert{path(d,d)}, \alert{path(d,d)}, \alert{d < d}.
      \end{semiverbatim}
    \end{minipage}
    \end{column}
    \begin{column}{0.25\textwidth}
      \Graph
    \end{column}
  \end{columns}
\end{frame}
% ----------------------------------------------------------------------
%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../main"
%%% End:
